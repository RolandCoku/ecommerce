<html>
<head>
    <title>Ushtrim Seminar</title>
    <style>
        .td-style {
            border: 1px solid black;
            padding: 25px;
            width: 50px;
            color: #b23228;
            text-align: center;
            font-size: 40px;
        }
    </style>
</head>
<body>
<table style="margin: 0 auto">
    <tbody>
    <tr>
        <td class="td-style" id="cell_0_0" onclick="doClick(0,0)">1</td>
        <td class="td-style" id="cell_0_1" onclick="doClick(0,1)">2</td>
        <td class="td-style" id="cell_0_2" onclick="doClick(0,2)">3</td>
        <td class="td-style" id="cell_0_3" onclick="doClick(0,3)">4</td>
    </tr>
    <tr>
        <td class="td-style" id="cell_1_0" onclick="doClick(1,0)">5</td>
        <td class="td-style" id="cell_1_1" onclick="doClick(1,1)">6</td>
        <td class="td-style" id="cell_1_2" onclick="doClick(1,2)">7</td>
        <td class="td-style" id="cell_1_3" onclick="doClick(1,3)">8</td>
    </tr>
    <tr>
        <td class="td-style" id="cell_2_0" onclick="doClick(2,0)">9</td>
        <td class="td-style" id="cell_2_1" onclick="doClick(2,1)">10</td>
        <td class="td-style" id="cell_2_2" onclick="doClick(2,2)">11</td>
        <td class="td-style" id="cell_2_3" onclick="doClick(2,3)">12</td>
    </tr>
    <tr>
        <td class="td-style" id="cell_3_0" onclick="doClick(3,0)">13</td>
        <td class="td-style" id="cell_3_1" onclick="doClick(3,1)">14</td>
        <td class="td-style" id="cell_3_2" onclick="doClick(3,2)">15</td>
        <td class="td-style" id="cell_3_3" onclick="doClick(3,3)"></td>
    </tr>
    </tbody>
</table>


<script>
    // inicializimi i qelizave
    var cells = [];
    for (var i = 0; i < 4; i++) {
        var temp = [];
        for (var j = 0; j < 4; j++) {
            var currentElement = document.getElementById("cell_" + i + "_" + j);
            temp.push(currentElement);
        }
        cells.push(temp);
    }

    // vendosja e numrave random
    function shuffleNumbers(){
        var numbers = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];

        for (var i = 0; i< 50; i++){
            var first = generateRandomNumber(15);
            var second = generateRandomNumber(15);

            var temp = numbers[first];
            numbers[first] = numbers[second];
            numbers[second] = temp;
        }

        // kutia bosh
        var rreshti = generateRandomNumber(3);
        var shtylla = generateRandomNumber(3);

        var k = 0;
        for (var i = 0; i < 4; i++) {
            for (var j = 0; j < 4; j++) {

                if (i == rreshti && j == shtylla){
                    cells[i][j].innerText = "";
                    continue;
                }

                if (k < 15){
                    cells[i][j].innerText = numbers[k++];
                }
            }
        }
    }

    shuffleNumbers();

    function generateRandomNumber(max){
        return Math.floor(Math.random()*max);
    }


    function doClick(row,col){
        var top = row - 1;
        var bottom = row + 1;
        var left = col - 1;
        var right = col + 1;
        console.log("row"+row);
        console.log("col"+col);
        console.log("top"+top);
        console.log("bottom"+bottom);

        if (top >=0 && cells[top][col].innerText == ""){
            cells[top][col].innerText = cells[row][col].innerText;
            cells[row][col].innerText = "";
        } else if (bottom < 4 && cells[bottom][col].innerText == ""){
            cells[bottom][col].innerText = cells[row][col].innerText;
            cells[row][col].innerText = "";
        }else if (left >=0 && cells[row][left].innerText == ""){
            cells[row][left].innerText = cells[row][col].innerText;
            cells[row][col].innerText = "";
        } else if (right < 4 && cells[row][right].innerText == ""){
            cells[row][right].innerText = cells[row][col].innerText;
            cells[row][col].innerText = "";
        }
    }

</script>
</body>
</html>